<?xml version="1.0" encoding="utf-8"?>
<ContentPage
  xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
  xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
  x:Class="SUS.EOS.NeoWallet.Pages.ReceivePage"
  Title="Receive"
  BackgroundColor="{DynamicResource PageBackgroundColor}">
  <ScrollView>
    <VerticalStackLayout Padding="32" Spacing="24" MaximumWidthRequest="500" HorizontalOptions="Center">
      
      <!-- Header -->
      <VerticalStackLayout Spacing="8" HorizontalOptions="Center">
        <Border BackgroundColor="{DynamicResource Secondary}" StrokeShape="RoundRectangle 24" StrokeThickness="0" WidthRequest="64" HeightRequest="64" HorizontalOptions="Center">
          <Label Text="â†“" FontSize="28" FontAttributes="Bold" TextColor="White" HorizontalOptions="Center" VerticalOptions="Center" />
        </Border>
        <Label Text="Receive Assets" FontSize="28" FontAttributes="Bold" HorizontalTextAlignment="Center" TextColor="{DynamicResource TextPrimary}" />
        <Label Text="Share your address or QR code to receive tokens" FontSize="14" HorizontalTextAlignment="Center" TextColor="{DynamicResource TextSecondary}" />
      </VerticalStackLayout>
      
      <!-- QR Code Card -->
      <Border BackgroundColor="{DynamicResource Card}" StrokeShape="RoundRectangle 16" Stroke="{DynamicResource Border}" StrokeThickness="1" Padding="24">
        <VerticalStackLayout Spacing="20" HorizontalOptions="Center">
          <Border BackgroundColor="White" StrokeShape="RoundRectangle 12" Stroke="{DynamicResource Border}" StrokeThickness="1" Padding="16">
            <Image x:Name="QRCodeImage" Source="dotnet_bot.png" WidthRequest="180" HeightRequest="180" Aspect="AspectFit" />
          </Border>
          <Label Text="Scan with any wallet app" FontSize="12" TextColor="{DynamicResource TextSecondary}" HorizontalTextAlignment="Center" />
        </VerticalStackLayout>
      </Border>

      <!-- Account Info Card -->
      <Border BackgroundColor="{DynamicResource Card}" StrokeShape="RoundRectangle 16" Stroke="{DynamicResource Border}" StrokeThickness="1" Padding="24">
        <VerticalStackLayout Spacing="16">
          <Label Text="Your Account" FontSize="13" FontAttributes="Bold" TextColor="{DynamicResource TextSecondary}" />
          
          <!-- Account Name -->
          <VerticalStackLayout Spacing="4">
            <Label Text="Account Name" FontSize="11" TextColor="{DynamicResource TextSecondary}" />
            <Border BackgroundColor="{DynamicResource Surface}" StrokeShape="RoundRectangle 8" StrokeThickness="0" Padding="12">
              <Label x:Name="AccountNameLabel" Text="Loading..." FontSize="15" TextColor="{DynamicResource TextPrimary}" />
            </Border>
          </VerticalStackLayout>
          
          <!-- Public Key -->
          <VerticalStackLayout Spacing="4">
            <Label Text="Public Key" FontSize="11" TextColor="{DynamicResource TextSecondary}" />
            <Border BackgroundColor="{DynamicResource Surface}" StrokeShape="RoundRectangle 8" StrokeThickness="0" Padding="12">
              <Label x:Name="AddressLabel" Text="Loading..." FontSize="13" TextColor="{DynamicResource TextPrimary}" LineBreakMode="MiddleTruncation" />
            </Border>
          </VerticalStackLayout>
          
          <!-- Copy Buttons -->
          <Grid ColumnDefinitions="*,*" ColumnSpacing="12">
            <Button Grid.Column="0" x:Name="CopyAccountButton" Text="ðŸ“‹ Copy Account" BackgroundColor="{DynamicResource Primary}" TextColor="White" HeightRequest="48" CornerRadius="10" FontSize="13" Clicked="OnCopyAccountClicked" />
            <Button Grid.Column="1" x:Name="CopyAddressButton" Text="ðŸ“‹ Copy Key" BackgroundColor="{DynamicResource Surface}" TextColor="{DynamicResource TextPrimary}" BorderColor="{DynamicResource Border}" BorderWidth="1" HeightRequest="48" CornerRadius="10" FontSize="13" Clicked="OnCopyAddressClicked" />
          </Grid>
        </VerticalStackLayout>
      </Border>

      <!-- Share Options -->
      <VerticalStackLayout Spacing="12">
        <Label Text="Share via" FontSize="13" FontAttributes="Bold" TextColor="{DynamicResource TextSecondary}" HorizontalOptions="Center" />
        <Grid ColumnDefinitions="*,*,*" ColumnSpacing="12" HorizontalOptions="Center" WidthRequest="300">
          <Border Grid.Column="0" BackgroundColor="{DynamicResource Card}" StrokeShape="RoundRectangle 12" Stroke="{DynamicResource Border}" StrokeThickness="1" Padding="16">
            <Border.GestureRecognizers>
              <TapGestureRecognizer Tapped="OnShareEmailClicked" />
            </Border.GestureRecognizers>
            <VerticalStackLayout Spacing="8" HorizontalOptions="Center">
              <Label Text="ðŸ“§" FontSize="24" HorizontalOptions="Center" />
              <Label Text="Email" FontSize="11" TextColor="{DynamicResource TextSecondary}" HorizontalTextAlignment="Center" />
            </VerticalStackLayout>
          </Border>
          <Border Grid.Column="1" BackgroundColor="{DynamicResource Card}" StrokeShape="RoundRectangle 12" Stroke="{DynamicResource Border}" StrokeThickness="1" Padding="16">
            <Border.GestureRecognizers>
              <TapGestureRecognizer Tapped="OnShareMessageClicked" />
            </Border.GestureRecognizers>
            <VerticalStackLayout Spacing="8" HorizontalOptions="Center">
              <Label Text="ðŸ’¬" FontSize="24" HorizontalOptions="Center" />
              <Label Text="Message" FontSize="11" TextColor="{DynamicResource TextSecondary}" HorizontalTextAlignment="Center" />
            </VerticalStackLayout>
          </Border>
          <Border Grid.Column="2" BackgroundColor="{DynamicResource Card}" StrokeShape="RoundRectangle 12" Stroke="{DynamicResource Border}" StrokeThickness="1" Padding="16">
            <Border.GestureRecognizers>
              <TapGestureRecognizer Tapped="OnShareMoreClicked" />
            </Border.GestureRecognizers>
            <VerticalStackLayout Spacing="8" HorizontalOptions="Center">
              <Label Text="ðŸ“¤" FontSize="24" HorizontalOptions="Center" />
              <Label Text="More" FontSize="11" TextColor="{DynamicResource TextSecondary}" HorizontalTextAlignment="Center" />
            </VerticalStackLayout>
          </Border>
        </Grid>
      </VerticalStackLayout>

      <!-- Back Button -->
      <Button Text="Done" BackgroundColor="Transparent" TextColor="{DynamicResource TextSecondary}" BorderColor="{DynamicResource Border}" BorderWidth="1" HeightRequest="50" CornerRadius="12" Clicked="OnDoneClicked" />
    </VerticalStackLayout>
  </ScrollView>
</ContentPage>
